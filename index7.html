<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enhanced Leaflet Web Mapping App</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.css">
    <!-- Leaflet Geosearch CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet-geosearch/3.3.2/geosearch.css">
    <!-- Font Awesome CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="index7.css">
    <!-- Leaflet JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.js"></script>
    <!-- Leaflet Geosearch JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-geosearch/3.3.2/geosearch.umd.js"></script>
    <!-- Leaflet Routing Machine JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-routing-machine/3.2.12/leaflet-routing-machine.min.js"></script>
    <!-- OSRM Text Instructions JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/osrm-text-instructions/0.13.4/osrm-text-instructions.js"></script>
    <!-- Leaflet Routing Machine Localization JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-routing-machine/dist/localization.fr.js"></script>
</head>
<body>
    <div id="map" class="position-relative">
        <div class="position-absolute top-0 start-0 m-3 z-index-1000">
            <div class="input-group">
                <span class="input-group-text bg-white border-end-0" onclick="toggleSearch()">
                    <i class="fas fa-search"></i>
                </span>
                <input type="text" class="form-control border-start-0 search-input" placeholder="Search...">
            </div>
        </div>

        <div class="position-absolute   z-index-1000">
            <div class="dropdown">
                <button class="btn btn-light dropdown-toggle" type="button" id="layerDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                    <i class="fas fa-layer-group"></i> Layers
                </button>
                <ul class="dropdown-menu" aria-labelledby="layerDropdown">
                    <li><a class="dropdown-item" href="#" onclick="setLayer('osm')">
                        <img src="https://www.openstreetmap.org/assets/osm_logo-6279c761.svg" alt="OpenStreetMap" width="20" height="20">
                        OpenStreetMap
                    </a></li>
                    <li><a class="dropdown-item" href="#" onclick="setLayer('satellite')">
                        <i class="fab fa-google"></i> Google Satellite
                    </a></li>
                    <li><a class="dropdown-item" href="#" onclick="setLayer('hybrid')">
                        <i class="fab fa-google"></i> Google Hybrid
                    </a></li>
                </ul>
            </div>
        </div>

        <div class="position-absolute bottom-0 start-0 m-3 z-index-1000">
            <button id="geolocate" class="btn btn-primary me-2" onclick="getGeolocation()">
                <i class="fas fa-map-marker-alt"></i>
            </button>
            <button id="start-tracking" class="btn btn-success">
                <i class="fas fa-location-arrow"></i> Start Tracking
            </button>
        </div>

        <div class="position-absolute bottom-0 end-0 m-3 z-index-1000">
            <div class="input-group">
                <input type="text" id="destination-input" class="form-control" placeholder="Enter your destination">
                <button id="search-destination" class="btn btn-primary">
                    <i class="fas fa-search"></i>
                </button>
            </div>
        </div>
    </div>

    <div id="control-panel" class="position-absolute top-50 end-0 translate-middle-y bg-white p-3 rounded shadow">
        <div class="btn-group" role="group" aria-label="Routing mode">
            <button type="button" class="btn btn-outline-primary" onclick="setRoutingMode('car')">
                <i class="fas fa-car"></i> Car
            </button>
            <button type="button" class="btn btn-outline-primary" onclick="setRoutingMode('bike')">
                <i class="fas fa-motorcycle"></i> Motorcycle
            </button>
            <button type="button" class="btn btn-outline-primary" onclick="setRoutingMode('foot')">
                <i class="fas fa-walking"></i> Walk
            </button>
        </div>
        <div class="mt-3">Selected mode: <span id="selected-mode" class="fw-bold">Car</span></div>
        <div id="markers-count" class="mt-2"></div>
    </div>

    <div id="search-results" class="position-absolute top-0 start-0 m-3 mt-5 bg-white p-3 rounded shadow d-none"></div>

    <!-- Bootstrap JS Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Your custom JS files -->
    <script src="Voiries_3.js"></script>
    <script src="ilo3_1.js"></script>
    <script src="Batisilo3_2.js"></script>
    <script src="index.js"></script>
</body>
</html>